(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~c066e0f0"],{"282b":function(r,e,t){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(r){return r.trim().split("\n").map(function(r){return r.trim()})},n.splitSections=function(r){var e=r.split("\nm=");return e.map(function(r,e){return(e>0?"m="+r:r).trim()+"\r\n"})},n.getDescription=function(r){var e=n.splitSections(r);return e&&e[0]},n.getMediaSections=function(r){var e=n.splitSections(r);return e.shift(),e},n.matchPrefix=function(r,e){return n.splitLines(r).filter(function(r){return 0===r.indexOf(e)})},n.parseCandidate=function(r){var e;e=0===r.indexOf("a=candidate:")?r.substring(12).split(" "):r.substring(10).split(" ");for(var t={foundation:e[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},n=8;n<e.length;n+=2)switch(e[n]){case"raddr":t.relatedAddress=e[n+1];break;case"rport":t.relatedPort=parseInt(e[n+1],10);break;case"tcptype":t.tcpType=e[n+1];break;case"ufrag":t.ufrag=e[n+1],t.usernameFragment=e[n+1];break;default:t[e[n]]=e[n+1];break}return t},n.writeCandidate=function(r){var e=[];e.push(r.foundation),e.push(r.component),e.push(r.protocol.toUpperCase()),e.push(r.priority),e.push(r.address||r.ip),e.push(r.port);var t=r.type;return e.push("typ"),e.push(t),"host"!==t&&r.relatedAddress&&r.relatedPort&&(e.push("raddr"),e.push(r.relatedAddress),e.push("rport"),e.push(r.relatedPort)),r.tcpType&&"tcp"===r.protocol.toLowerCase()&&(e.push("tcptype"),e.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(e.push("ufrag"),e.push(r.usernameFragment||r.ufrag)),"candidate:"+e.join(" ")},n.parseIceOptions=function(r){return r.substr(14).split(" ")},n.parseRtpMap=function(r){var e=r.substr(9).split(" "),t={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},n.writeRtpMap=function(r){var e=r.payloadType;void 0!==r.preferredPayloadType&&(e=r.preferredPayloadType);var t=r.channels||r.numChannels||1;return"a=rtpmap:"+e+" "+r.name+"/"+r.clockRate+(1!==t?"/"+t:"")+"\r\n"},n.parseExtmap=function(r){var e=r.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},n.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&"sendrecv"!==r.direction?"/"+r.direction:"")+" "+r.uri+"\r\n"},n.parseFmtp=function(r){for(var e,t={},n=r.substr(r.indexOf(" ")+1).split(";"),a=0;a<n.length;a++)e=n[a].trim().split("="),t[e[0].trim()]=e[1];return t},n.writeFmtp=function(r){var e="",t=r.payloadType;if(void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var n=[];Object.keys(r.parameters).forEach(function(e){r.parameters[e]?n.push(e+"="+r.parameters[e]):n.push(e)}),e+="a=fmtp:"+t+" "+n.join(";")+"\r\n"}return e},n.parseRtcpFb=function(r){var e=r.substr(r.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},n.writeRtcpFb=function(r){var e="",t=r.payloadType;return void 0!==r.preferredPayloadType&&(t=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(r){e+="a=rtcp-fb:"+t+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+"\r\n"}),e},n.parseSsrcMedia=function(r){var e=r.indexOf(" "),t={ssrc:parseInt(r.substr(7,e-7),10)},n=r.indexOf(":",e);return n>-1?(t.attribute=r.substr(e+1,n-e-1),t.value=r.substr(n+1)):t.attribute=r.substr(e+1),t},n.parseSsrcGroup=function(r){var e=r.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(r){return parseInt(r,10)})}},n.getMid=function(r){var e=n.matchPrefix(r,"a=mid:")[0];if(e)return e.substr(6)},n.parseFingerprint=function(r){var e=r.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},n.getDtlsParameters=function(r,e){var t=n.matchPrefix(r+e,"a=fingerprint:");return{role:"auto",fingerprints:t.map(n.parseFingerprint)}},n.writeDtlsParameters=function(r,e){var t="a=setup:"+e+"\r\n";return r.fingerprints.forEach(function(r){t+="a=fingerprint:"+r.algorithm+" "+r.value+"\r\n"}),t},n.getIceParameters=function(r,e){var t=n.splitLines(r);t=t.concat(n.splitLines(e));var a={usernameFragment:t.filter(function(r){return 0===r.indexOf("a=ice-ufrag:")})[0].substr(12),password:t.filter(function(r){return 0===r.indexOf("a=ice-pwd:")})[0].substr(10)};return a},n.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+"\r\na=ice-pwd:"+r.password+"\r\n"},n.parseRtpParameters=function(r){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},t=n.splitLines(r),a=t[0].split(" "),s=3;s<a.length;s++){var i=a[s],p=n.matchPrefix(r,"a=rtpmap:"+i+" ")[0];if(p){var c=n.parseRtpMap(p),o=n.matchPrefix(r,"a=fmtp:"+i+" ");switch(c.parameters=o.length?n.parseFmtp(o[0]):{},c.rtcpFeedback=n.matchPrefix(r,"a=rtcp-fb:"+i+" ").map(n.parseRtcpFb),e.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(c.name.toUpperCase());break;default:break}}}return n.matchPrefix(r,"a=extmap:").forEach(function(r){e.headerExtensions.push(n.parseExtmap(r))}),e},n.writeRtpDescription=function(r,e){var t="";t+="m="+r+" ",t+=e.codecs.length>0?"9":"0",t+=" UDP/TLS/RTP/SAVPF ",t+=e.codecs.map(function(r){return void 0!==r.preferredPayloadType?r.preferredPayloadType:r.payloadType}).join(" ")+"\r\n",t+="c=IN IP4 0.0.0.0\r\n",t+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach(function(r){t+=n.writeRtpMap(r),t+=n.writeFmtp(r),t+=n.writeRtcpFb(r)});var a=0;return e.codecs.forEach(function(r){r.maxptime>a&&(a=r.maxptime)}),a>0&&(t+="a=maxptime:"+a+"\r\n"),t+="a=rtcp-mux\r\n",e.headerExtensions&&e.headerExtensions.forEach(function(r){t+=n.writeExtmap(r)}),t},n.parseRtpEncodingParameters=function(r){var e,t=[],a=n.parseRtpParameters(r),s=-1!==a.fecMechanisms.indexOf("RED"),i=-1!==a.fecMechanisms.indexOf("ULPFEC"),p=n.matchPrefix(r,"a=ssrc:").map(function(r){return n.parseSsrcMedia(r)}).filter(function(r){return"cname"===r.attribute}),c=p.length>0&&p[0].ssrc,o=n.matchPrefix(r,"a=ssrc-group:FID").map(function(r){var e=r.substr(17).split(" ");return e.map(function(r){return parseInt(r,10)})});o.length>0&&o[0].length>1&&o[0][0]===c&&(e=o[0][1]),a.codecs.forEach(function(r){if("RTX"===r.name.toUpperCase()&&r.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(r.parameters.apt,10)};c&&e&&(n.rtx={ssrc:e}),t.push(n),s&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:c,mechanism:i?"red+ulpfec":"red"},t.push(n))}}),0===t.length&&c&&t.push({ssrc:c});var u=n.matchPrefix(r,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,t.forEach(function(r){r.maxBitrate=u})),t},n.parseRtcpParameters=function(r){var e={},t=n.matchPrefix(r,"a=ssrc:").map(function(r){return n.parseSsrcMedia(r)}).filter(function(r){return"cname"===r.attribute})[0];t&&(e.cname=t.value,e.ssrc=t.ssrc);var a=n.matchPrefix(r,"a=rtcp-rsize");e.reducedSize=a.length>0,e.compound=0===a.length;var s=n.matchPrefix(r,"a=rtcp-mux");return e.mux=s.length>0,e},n.parseMsid=function(r){var e,t=n.matchPrefix(r,"a=msid:");if(1===t.length)return e=t[0].substr(7).split(" "),{stream:e[0],track:e[1]};var a=n.matchPrefix(r,"a=ssrc:").map(function(r){return n.parseSsrcMedia(r)}).filter(function(r){return"msid"===r.attribute});return a.length>0?(e=a[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(r,e,t){var a,s=void 0!==e?e:2;a=r||n.generateSessionId();var i=t||"thisisadapterortc";return"v=0\r\no="+i+" "+a+" "+s+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(r,e,t,a){var s=n.writeRtpDescription(r.kind,e);if(s+=n.writeIceParameters(r.iceGatherer.getLocalParameters()),s+=n.writeDtlsParameters(r.dtlsTransport.getLocalParameters(),"offer"===t?"actpass":"active"),s+="a=mid:"+r.mid+"\r\n",r.direction?s+="a="+r.direction+"\r\n":r.rtpSender&&r.rtpReceiver?s+="a=sendrecv\r\n":r.rtpSender?s+="a=sendonly\r\n":r.rtpReceiver?s+="a=recvonly\r\n":s+="a=inactive\r\n",r.rtpSender){var i="msid:"+a.id+" "+r.rtpSender.track.id+"\r\n";s+="a="+i,s+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" "+i,r.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" "+i,s+="a=ssrc-group:FID "+r.sendEncodingParameters[0].ssrc+" "+r.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return s+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",r.rtpSender&&r.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),s},n.getDirection=function(r,e){for(var t=n.splitLines(r),a=0;a<t.length;a++)switch(t[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return t[a].substr(2);default:}return e?n.getDirection(e):"sendrecv"},n.getKind=function(r){var e=n.splitLines(r),t=e[0].split(" ");return t[0].substr(2)},n.isRejected=function(r){return"0"===r.split(" ",2)[1]},n.parseMLine=function(r){var e=n.splitLines(r),t=e[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},n.parseOLine=function(r){var e=n.matchPrefix(r,"o=")[0],t=e.substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},n.isValidSDP=function(r){if("string"!==typeof r||0===r.length)return!1;for(var e=n.splitLines(r),t=0;t<e.length;t++)if(e[t].length<2||"="!==e[t].charAt(1))return!1;return!0},r.exports=n}}]);